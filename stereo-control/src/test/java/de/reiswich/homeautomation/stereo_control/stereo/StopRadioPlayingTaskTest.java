package de.reiswich.homeautomation.stereo_control.stereo;

import java.util.Timer;

import org.junit.Test;
import  static org.mockito.Mockito.*;


public class StopRadioPlayingTaskTest {

	@Test
	public void stopRadioPlayingTaskTest() throws InterruptedException {
		
		MPCRadioPlayer radioPlayer = mock(MPCRadioPlayer.class);
		
		Timer scanIPhoneTimer = new Timer("iPhone Scanner");
		StopRadioPlayingTask stopRadioPlayingTask = new StopRadioPlayingTask(radioPlayer);
		
		scanIPhoneTimer.schedule(stopRadioPlayingTask, 2*1000);
		
		Thread.sleep(3000);
		
		verify(radioPlayer, times(1)).stopPlaying();
		
	}
}
